var Script=pc.createScript("script");Script.prototype.initialize=function(){this.time=0;var e=this;window.addEventListener("message",(function(t){switch(t.data.action){case"changeColor":var a=e.entity.model.meshInstances[1].material;a.diffuse=new pc.Color(...t.data.rgb),a.update();break;case"changeTexture":var i=new pc.Texture(e.app.graphicsDevice,{}),n=document.createElement("img");n.src=t.data.base64,n.onload=function(t){i.setSource(n);var a=e.entity.model.meshInstances[2].material;a.emissiveMap=i,a.update()}}}),!1)},Script.prototype.update=function(e){var t=20*Math.sin(2*this.time);this.entity.setLocalEulerAngles(0,t,0),this.time+=e};